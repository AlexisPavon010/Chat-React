(this["webpackJsonpchat-firebase"]=this["webpackJsonpchat-firebase"]||[]).push([[0],{29:function(e,t,a){},38:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(31),r=a.n(n),o=(a(38),a(27),a(13)),l=(a(28),a(29),a(21)),i=a(18),b=a.n(i),d=a(22),j=a(16),m=a(32),u=(a(40),a(51),m.a.initializeApp({apiKey:"AIzaSyBFAEi_4qhpOpYVFecXZfmCqCn_KFIWm2c",authDomain:"react-chat-20a3b.firebaseapp.com",projectId:"react-chat-20a3b",storageBucket:"react-chat-20a3b.appspot.com",messagingSenderId:"925180698349",appId:"1:925180698349:web:6db264655a223940ca36e4"})),h=u.auth(),O=u.firestore(),p=function(e){var t=Object(c.useState)(),a=Object(o.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({message:""}),i=Object(o.a)(r,2),m=i[0],u=i[1],p=function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("messages").doc().set(m);case 2:console.log("messages saved"),u({message:""});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=Object(c.useState)(),f=Object(o.a)(g,2),x=f[0],v=f[1];return{sendMessage:p,handleOnChanges:function(e){var t=e.target.value;u(Object(j.a)(Object(j.a)({},m),{},{message:t})),console.log(m)},handleChange:function(e){var t=e.target,a=t.name,c=t.value;n(Object(j.a)(Object(j.a)({},s),{},Object(l.a)({},a,c))),console.log(s)},handleSubmit:function(e){e.preventDefault();var t=s.correo,a=s.contrase\u00f1a;s.nombre;h.createUserWithEmailAndPassword(t,a).then((function(e){return console.log("Usuario registrdo")})).catch((function(e){return alert(e.message)}))},LoginChange:function(e){e.preventDefault();var t=e.target,a=t.name,c=t.value;v(Object(j.a)(Object(j.a)({},x),{},Object(l.a)({},a,c)))},LoginSubmit:function(e){e.preventDefault();var t=x.correo,a=x.contrase\u00f1a;h.signInWithEmailAndPassword(t,a).then((function(e){return n({correo:t,"contrase\xf1a":a})})).catch((function(e){return alert(e.message)}))},logOut:function(e){e.preventDefault(),h.signOut().then((function(){console.log("user logOut")})),window.location.reload()},messages:m,user:s}},g=a(17),f=a(1);function x(){var e=p(),t=e.LoginChange,a=e.LoginSubmit;return Object(f.jsx)("div",{className:"container mt-5",style:{width:"360px"},children:Object(f.jsx)("div",{className:"card text-white bg-primary ",children:Object(f.jsxs)("form",{className:"card-body",onSubmit:a,children:[Object(f.jsx)("h4",{className:"card-title",children:"Logearse"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"col-form-label",children:"Correo"}),Object(f.jsx)("input",{onChange:t,name:"correo",type:"email",className:"form-control",placeholder:"correo"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"col-form-label",children:"Contrase\xf1a"}),Object(f.jsx)("input",{onChange:t,name:"contrase\xf1a",type:"password",className:"form-control",placeholder:"contrase\xf1a"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsx)("button",{className:"btn btn-primary btn-success",children:"Iniciar sesion"}),Object(f.jsx)(g.b,{to:"/Register",className:"d-flex align-items-center",children:"Registrarse"})]})]})})})}a(48),a(49);function v(){var e=p(),t=e.handleOnChanges,a=e.sendMessage,s=e.logOut,n=e.messages,r=Object(c.useState)(),l=Object(o.a)(r,2),i=l[0],j=l[1];return Object(c.useEffect)(Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.collection("messages").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));j(t),console.log(i)}));case 1:case"end":return e.stop()}}),e)}))),[]),Object(f.jsx)("div",{className:"container",style:{width:"360px"},children:Object(f.jsxs)("div",{className:"card text-white bg-dark mt-4",children:[Object(f.jsxs)("div",{className:"card-header d-flex",children:[Object(f.jsx)("h4",{className:"mr-5",children:"GarkSapp"}),Object(f.jsx)("button",{onClick:s,type:"button",className:"btn btn-secondary ml-5",children:"Salir"})]}),Object(f.jsx)("div",{className:"card-body",children:i?i.map((function(e){return Object(f.jsx)("div",{className:"list-group mb-2",children:Object(f.jsx)("li",{className:"list-group-item",children:e.message})})})):null}),Object(f.jsxs)("div",{className:"card-footer text-muted d-flex",children:[Object(f.jsx)("input",{onChange:t,value:n.message,className:"card-footer form-control text-muted"}),Object(f.jsx)("button",{onClick:a,className:"btn btn-info ml-2",children:Object(f.jsx)("i",{className:"material-icons",children:"send"})})]})]})})}function N(){var e=p(),t=e.handleChange,a=e.handleSubmit;return Object(f.jsx)("div",{className:"container mt-5",style:{width:"360px"},children:Object(f.jsx)("div",{className:"card text-white bg-primary ",children:Object(f.jsxs)("form",{className:"card-body",onSubmit:a,children:[Object(f.jsx)("h4",{className:"card-title",children:"Registrarse"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"col-form-label",children:"Usuario"}),Object(f.jsx)("input",{onChange:t,name:"nombre",type:"text",className:"form-control",placeholder:"Nombre de Usuario"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"col-form-label",children:"Correo"}),Object(f.jsx)("input",{onChange:t,name:"correo",type:"text",className:"form-control",placeholder:"correo"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"col-form-label",children:"Contrase\xf1a"}),Object(f.jsx)("input",{onChange:t,name:"contrase\xf1a",type:"password",className:"form-control",placeholder:"contrase\xf1a"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsx)("button",{className:"btn btn-primary btn-success",children:"Registrarse"}),Object(f.jsx)(g.b,{to:"/Login",children:"Iniciar sesion"})]})]})})})}var y=a(5);var w=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1];return h.onAuthStateChanged((function(e){e?(s(!0),console.log("logIn")):console.log("no Existe")})),Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(g.a,{children:[Object(f.jsx)(y.a,{exact:!0,path:"/",children:a?Object(f.jsx)(v,{}):Object(f.jsx)(N,{})}),Object(f.jsx)(y.a,{path:"/Register",component:N}),Object(f.jsx)(y.a,{path:"/Login",component:x})]})})};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.e29b06af.chunk.js.map